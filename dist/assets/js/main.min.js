"use strict";!function(){function t(t,e,n,o){n=n.sort(function(n,o){return e?n[t]>o[t]?1:n[t]<o[t]?-1:0:o[t]>n[t]?1:o[t]<n[t]?-1:0}),o&&(document.getElementById("drivers").innerHTML="",l())}function e(){console.log("sortFamilyName",e),t("familyName",!0,f,!0)}function n(){t("givenName",!0,f,!0)}function o(){t("dateOfBirth",!1,f,!0)}function r(){var t=new XMLHttpRequest;t.open("GET","json/circuits.json",!0),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);v=e.MRData.CircuitTable.Circuits,s()}},t.send()}function s(){t("circuitName",!0,v,!1),a()}function a(){for(var t=Array(),e=v.length,n=0;n<e;n++)g=v[n],t.push('<option value="'+g.circuitId+'">'+g.circuitName+" - "+g.Location.locality+" - "+g.Location.country+"</option>");E.innerHTML=t.join("")}function i(){var t=new XMLHttpRequest;t.open("GET","json/Constructors.json",!0),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){JSON.parse(t.responseText);h=L.constructors.topProperty,console.log("jsonData.constructors.topProperty",L.constructors.topProperty),c()}},t.send()}function c(){t("name",!0,h,!1),u()}function u(){for(var t=Array(),e=h.length,n=0;n<e;n++)y=h[n],t.push('<option value="'+y.constructorId+'">'+y.name+"</option>");I.innerHTML=t.join("")}function d(t,e,n,o){console.log("circuit, constructor, year, status",t,e,n,o);var r=new XMLHttpRequest;r.open("GET","http://ergast.com/api/f1/"+n+"/Constructors/"+e+"/circuits/"+t+"/drivers.json",!0),console.log("`http://ergast.com/api/f1/${year}/Constructors/${constructor}/circuits/${circuit}/drivers.json`","http://ergast.com/api/f1/"+n+"/Constructors/"+e+"/circuits/"+t+"/drivers.json"),r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){console.log("2");var t=JSON.parse(r.responseText);f=t.MRData.DriverTable.Drivers,l()}},r.send()}function l(){for(var t=Array(),e=f.length,n=0;n<e;n++)p=f[n],t.push('<li>\n                                    <div class="flag" style="background-image: url(\'/dist/assets/img/svg/flag/'+p.nationality+'.svg\');"></div>\n                                    <a target="_blank" href="'+p.url+'">\n                                        '+p.givenName+" "+p.familyName+"\n                                    </a>\n                                    <span>"+p.dateOfBirth+"</span>\n                                </li>");document.getElementById("drivers").innerHTML=t.join("")}function m(){var t=E.options[E.selectedIndex].value,e=I.options[I.selectedIndex].value,n=j.options[j.selectedIndex].value,o=B.options[B.selectedIndex].value;d(t,e,n,o),console.log("in")}var p,f,g,v,y,h,E=document.getElementById("circuit"),I=document.getElementById("constructor"),j=document.getElementById("year"),B=document.getElementById("status");document.getElementById("sort-family-name").addEventListener("mouseup",e,!0),document.getElementById("sort-given-name").addEventListener("mouseup",n),document.getElementById("sort-date-of-birth").addEventListener("mouseup",o),r();var L={constructors:{file:"json/Constructors.json",topProperty:response.MRData.ConstructorTable.Constructors,sortBy:"name",html:'<option value="'+y.constructorId+'">'+y.name+"</option>"}};i(),document.getElementById("go").addEventListener("mouseup",m)}();
//# sourceMappingURL=maps/main.min.js.map
